<ion-view view-title="{{homeCtrl.appName}}" id="home">
  <ion-nav-buttons side="secondary">
    <a class="button button-clear icon ion-information-circled" href="#/about"></a>
    <share></share>
  </ion-nav-buttons>

  <ion-content class="has-header has-footer">
    <form name="formSearchIp">
      <div class="item item-input-inset search">
        <label class="item-input-wrapper">
          <input 
            type="text" 
            name="ipAddress"
            placeholder="ipAddress"
            ng-model="homeCtrl.ipAddress"
            ng-pattern='/\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}/'
            required/>
        </label>
        <button 
          class="button button-small icon ion-paper-airplane" 
          ng-click="homeCtrl.submit(formSearchIp)"
          ng-disabled="formSearchIp.$invalid"> Submit</button>
        <button class="button button-small button-positive icon ion-home"ng-click="homeCtrl.reset()"> My IP</button>
      </div>
    </form>

    <div class="card" ng-show="homeCtrl.ipInformation.status=='fail'">
      <div class="item item-text-wrap">
        <p>{{homeCtrl.ipInformation.message | uppercase}}: Incorrect IP Address</p>
      </div>
    </div>

    <map ip-information="homeCtrl.ipInformation" ng-show="homeCtrl.ipInformation.status=='success'"></map>
    <ip-information-presentation ip-information="homeCtrl.ipInformation" ng-show="homeCtrl.ipInformation.status=='success'"></ip-information-presentation>
  </ion-content>

</ion-view>
